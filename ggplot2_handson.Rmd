---
title: "ggplot2 handson"
author: "Devin"
date: "Thursday, August 14, 2014"
output: html_document
---

## XY Plots

```{r}
rich_data <- read.csv("datasets//richPK.csv")
names(rich_data) <- toupper(names(rich_data))
library(ggplot2)
library(dplyr)

mean_ct <- rich_data %>% group_by(TIME) %>% summarize(CONC = mean(CONC)) 



p_conc_time <- ggplot(data = rich_data, 
                      aes(x = TIME, y = CONC, group=ID)) + 
  geom_line() + 
  geom_point(size=2.5) + 
  geom_line(data = mean_ct, 
            aes(x = TIME, y = CONC), 
            size = 2,  color = "red") + 
  xlab("Time (hours)") +
  ylab("Concentration (mg/L)")

# regular scale
p_conc_time

# log scale
p_conc_time + scale_y_log10()

p_conc_time + facet_wrap(~RACE) + base_theme_obs()

library(PKPDmisc)
```

Histograms
```{r}
ggplot(data = rich_data, aes(x = WEIGHT)) + geom_histogram(binwidth= 4, color="black", fill="white")

?Theoph
```

2) Basic Concentration-Time plot (point and lines)
3) make points/lines bigger
4) add log transformation to y axis
5) Add color by gender
6) facet by race
7) add mean conc-time profile and color red
8) add two mean profiles (one for each gender)
9) color by weight

## Boxplots and Histograms
* Histogram(s) of demographics
  * add vertical line for median value
* Boxplot cmax/AUC by gender

## Eta-Eta plots
Read in `EtaCov_base` dataset
* Eta-eta scatter plot
  * add loess fit
* subset relationships with noticable trend for final plot

